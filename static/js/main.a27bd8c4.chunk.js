(this["webpackJsonptwitter-clone"]=this["webpackJsonptwitter-clone"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(1),s=n.n(a),i=n(30),o=n.n(i),l=(n(86),n(87),n(34)),r=n(7),j=n(10),u=n(32),d=(n(88),n(90),n(102),n(58));n.n(d).a.config();u.a.initializeApp({apiKey:"AIzaSyDZY2BQ7GWd-x4r7EudWNZyDQEyastW9m0",authDomain:"twitter-clone-192db.firebaseapp.com",projectId:"twitter-clone-192db",storageBucket:"twitter-clone-192db.appspot.com",messagingSenderId:"431946776102",appId:"1:431946776102:web:67267b485be995bb4230e7",measurementId:"G-QPGQR0F4BK"});var b=u.a.auth(),h=new u.a.auth.GoogleAuthProvider,m=function(){h.addScope("email"),b.signInWithPopup(h).then((function(e){console.log(e.user)})).catch((function(e){console.log(e.message)}))},x=u.a.firestore(),O=u.a.storage(),p=n(27),f=n.n(p),g=n(38),v=Object(a.createContext)({user:null}),w=function(e){var t=e.split(" ");return t[t.length-1]},y=function(e){var t=Object(a.useState)(null),n=Object(j.a)(t,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){b.onAuthStateChanged(function(){var e=Object(g.a)(f.a.mark((function e(t){var n,c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(n=t.displayName,c=t.email,a=t.photoURL,i({displayName:n,email:c,photoURL:a,handle:w(n)})):t||i(null);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(c.jsx)(v.Provider,{value:s,children:e.children})},N=function(){var e=Object(a.useContext)(v),t=Object(a.useState)(null),n=Object(j.a)(t,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){e&&i("/twitter")}),[e]),s?Object(c.jsx)(r.a,{to:s}):Object(c.jsx)("div",{className:"login-buttons",children:Object(c.jsxs)("button",{className:"login-provider-button",onClick:m,children:[Object(c.jsx)("img",{src:"https://img.icons8.com/ios-filled/50/000000/google-logo.png",alt:"google icon"}),Object(c.jsx)("span",{children:" Continue with Google"})]})})},L=n(120),k=n(124),C=n(118),S=function(e){var t=e.Icon,n=e.text;return Object(c.jsxs)("div",{className:"sidebar-item",children:[Object(c.jsx)(t,{fontSize:"large"}),Object(c.jsx)(C.a,{variant:"h6",fontWeight:"fontWeightBold",style:{marginLeft:"12px"},children:n})]})},I=n(126),B=n(50),T=n.n(B),R=function(){var e=Object(a.useContext)(v),t=e.displayName,n=(e.email,e.photoURL),s=e.handle;return Object(c.jsxs)("div",{className:"sidebar-profile",children:[Object(c.jsxs)("div",{className:"sideber-name_profile",children:[Object(c.jsx)(I.a,{alt:t,src:n}),Object(c.jsxs)("div",{style:{marginLeft:"5px"},children:[Object(c.jsx)(C.a,{fontWeight:"fontWeightBold",children:Object(c.jsx)("b",{children:t})}),Object(c.jsxs)(C.a,{children:["@",s]})]})]}),Object(c.jsx)("div",{children:Object(c.jsx)(T.a,{style:{marginRight:"15px"}})})]})},W=n(62),E=n.n(W),U=n(63),D=n.n(U),P=n(64),A=n.n(P),F=n(65),M=n.n(F),z=n(56),G=n.n(z),H=n(66),Q=n.n(H),J=n(67),K=n.n(J),Z=n(68),Y=n.n(Z),_=function(){var e=Object(a.useContext)(v);return Object(c.jsxs)("div",{className:"sidebarContainer",children:[Object(c.jsxs)("div",{className:"sidebarItems",children:[Object(c.jsx)(E.a,{fontSize:"large"}),Object(c.jsx)(S,{text:"Home",Icon:D.a}),Object(c.jsx)(S,{text:"Explore",Icon:A.a}),Object(c.jsx)(S,{text:"Notifications",Icon:M.a}),Object(c.jsx)(S,{text:"Messages",Icon:G.a}),Object(c.jsx)(S,{text:"Bookmarks",Icon:Q.a}),Object(c.jsx)(S,{text:"Messages",Icon:G.a}),Object(c.jsx)(S,{text:"Lists",Icon:K.a}),Object(c.jsx)(S,{text:"Profile",Icon:Y.a}),Object(c.jsx)(S,{text:"More",Icon:T.a}),Object(c.jsx)("button",{className:"tweet-button",children:Object(c.jsx)(C.a,{variant:"h6",fontWeight:"fontWeightBold",children:"Tweet"})})]}),e&&Object(c.jsx)(R,{})]})},q=n(121),V=n(69),X=n.n(V),$=n(122),ee=Object(L.a)((function(e){return{large:{width:e.spacing(6),height:e.spacing(6)},textArea:{width:"100%",background:"none",border:"none",color:"white",fontFamily:"Roboto",fontSize:20}}})),te=function(){var e=Object(a.useContext)(v),t=e.displayName,n=e.photoURL,s=e.handle,i=Object(a.useState)(""),o=Object(j.a)(i,2),l=o[0],r=o[1],u=Object(a.useState)(null),d=Object(j.a)(u,2),b=d[0],h=d[1],m=ee(),p=function(){var e=Object(g.a)(f.a.mark((function e(){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=O.ref(),a=c.child(b.name),e.next=4,a.put(b);case 4:w(t,s,l,n,b,a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(g.a)(f.a.mark((function e(t,n,c,a,s,i){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x.collection("allTweets").doc(c),e.t1=t,e.t2=n,e.t3=c,e.t4=a,e.t5=Date.now(),e.t6=[],e.next=9,i.getDownloadURL();case 9:e.t7=e.sent,e.t8={displayName:e.t1,handle:e.t2,tweet:e.t3,photoLink:e.t4,likes:0,timestamp:e.t5,likedBy:e.t6,imageURL:e.t7},e.t0.set.call(e.t0,e.t8).then((function(){console.log("Successfully saved tweet info")})).catch((function(e){console.log("Error saving tweet info",e)}));case 12:case"end":return e.stop()}}),e)})));return function(t,n,c,a,s,i){return e.apply(this,arguments)}}(),y=function(e,t,n,c){x.collection("allTweets").doc(n).set({id:n,displayName:e,handle:t,tweet:n,photoLink:c,likes:0,timestamp:Date.now(),likedBy:[],imageURL:null,comments:[]}).then((function(){console.log("Successfully saved tweet info")})).catch((function(e){console.log("Error saving tweet info",e)}))};return Object(c.jsx)("div",{className:"newTweetContainer",children:Object(c.jsxs)("form",{onSubmit:function(e){var c;c=e,l.length>0&&(c.preventDefault(),null===b?y(t,s,l,n):p(),h(null),r(""))},children:[Object(c.jsxs)("div",{className:"newTweetForm",children:[Object(c.jsx)(I.a,{className:m.large,alt:t,src:n,style:{marginLeft:"10px"}}),Object(c.jsx)(q.a,{rowsMax:10,"aria-label":"maximum height",placeholder:"What's happening?",value:l,onChange:function(e){r(e.target.value)},className:m.textArea,inputprops:{maxLength:10}})]}),Object(c.jsxs)("div",{className:"tweetOptions",style:{marginTop:"10px"},children:[Object(c.jsx)("div",{className:"addItems",children:Object(c.jsxs)("label",{htmlFor:"upload-photo",children:[Object(c.jsx)("input",{style:{display:"none"},id:"upload-photo",name:"upload-photo",type:"file",onChange:function(e){h(e.target.files[0])}}),Object(c.jsx)($.a,{color:"primary",size:"small",component:"span","aria-label":"add",children:Object(c.jsx)(X.a,{})})]})}),Object(c.jsx)("button",{type:"submit",className:"tweet-buttonMain",children:Object(c.jsx)(C.a,{fontWeight:"fontWeightBold",children:"Tweet"})})]})]})})},ne=n(74),ce=function(e){var t=e.item;return Object(c.jsxs)("div",{className:"comment",children:[Object(c.jsx)(I.a,{src:t.avatar,alt:t.avatar,style:{margin:"10px"}}),Object(c.jsx)(C.a,{children:t.comment})]})},ae=Object(L.a)((function(e){return{large:{width:e.spacing(6),height:e.spacing(6)},textArea:{width:"100%",background:"none",border:"none",color:"white",fontFamily:"Roboto",fontSize:20}}})),se=function(e){var t=e.id,n=e.allComments,s=Object(a.useState)(""),i=Object(j.a)(s,2),o=i[0],l=i[1],r=Object(a.useState)(n),u=Object(j.a)(r,2),d=u[0],b=u[1],h=ae(),m=Object(a.useContext)(v),O=m.photoURL;Object(a.useEffect)((function(){p(t,d)}),[d]);var p=function(e,t){return x.collection("allTweets").doc(e).update({comments:d}).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.error("Error updating document: ",e)}))};return Object(c.jsxs)("div",{children:[d.map((function(e){return Object(c.jsx)(ce,{item:e})})),Object(c.jsx)("form",{onSubmit:function(e){!function(e){e.preventDefault(),b([].concat(Object(ne.a)(n),[{comment:o,avatar:O}])),l("")}(e)},children:Object(c.jsxs)("div",{className:"newTweetForm",children:[Object(c.jsx)(I.a,{className:h.large,src:m.photoURL,alt:m.displayName,style:{marginLeft:"10px"}}),Object(c.jsx)(q.a,{rowsMax:10,"aria-label":"maximum height",placeholder:"Insert your comment?",className:h.textArea,inputprops:{maxLength:10},value:o,onChange:function(e){l(e.target.value)}}),Object(c.jsx)("button",{type:"submit",className:"tweet-buttonMain",children:"Comment"})]})})]})},ie=n(123),oe=n(70),le=n.n(oe),re=n(71),je=n.n(re),ue=n(72),de=n.n(ue),be=function(e){var t=e.id,n=e.tweet,s=e.displayName,i=e.handle,o=(e.likes,e.photo),l=e.tweetText,r=e.likedBy,u=e.image,d=e.allComments,b=Object(a.useContext)(v),h=Object(a.useState)(!1),m=Object(j.a)(h,2),O=m[0],p=m[1],f=Object(a.useState)(r),g=Object(j.a)(f,2),w=g[0],y=g[1],N=Object(a.useState)(!0),L=Object(j.a)(N,2),k=L[0],S=L[1],B=Object(a.useState)(!1),T=Object(j.a)(B,2),R=T[0],W=T[1],E=function(){!1===O&&!1===w.includes(s)&&(p(!0),y(w.concat(s)))};Object(a.useEffect)((function(){!0===w.includes(s)&&p(!0)}),[w]),Object(a.useEffect)((function(){!0===w.includes(s)&&!1===k&&U(),S(!1)}),[w]);var U=function(){return x.collection("allTweets").doc(t).update({likedBy:w}).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.error("Error updating document: ",e)}))};return Object(c.jsxs)("div",{className:"tweet",children:[n.retweetPerson&&Object(c.jsxs)("div",{className:"retweet",children:[Object(c.jsx)(C.a,{style:{marginLeft:"15px"},fontStyle:"italic",children:"Retweeted by:"}),Object(c.jsx)(I.a,{style:{marginLeft:"10px"},alt:n.retweetPerson,src:n.retweetPhoto}),Object(c.jsxs)(C.a,{style:{marginLeft:"15px"},fontWeight:"fontWeightBold",children:[Object(c.jsx)("b",{children:n.retweetPerson})," @",n.retweetHandle]})]}),Object(c.jsxs)("div",{className:"tweetText",children:[Object(c.jsx)(I.a,{style:{marginLeft:"10px"},alt:s,src:o}),Object(c.jsxs)("div",{style:{marginLeft:"5px"},children:[Object(c.jsxs)(C.a,{fontWeight:"fontWeightBold",children:[Object(c.jsx)("b",{children:s})," @",i]}),Object(c.jsx)(C.a,{style:{marginBottom:"15px"},children:l}),u&&Object(c.jsx)("img",{className:"tweetImage",src:u,alt:u,style:{height:"200px"}})]})]}),Object(c.jsxs)("div",{className:"tweetOptionsBottom",children:[Object(c.jsx)(ie.a,{onClick:function(){W(!R)},className:"tweetIcon",style:{color:"white"},children:Object(c.jsx)(le.a,{})}),Object(c.jsx)(ie.a,{onClick:function(){!function(e,t,n,c,a,s,i,o){x.collection("allTweets").doc("".concat(e).concat(t.displayName,"retweet")).set({id:"".concat(e).concat(t.displayName,"retweet"),retweetPerson:t.displayName,retweetPhoto:t.photoURL,retweetHandle:t.handle,displayName:n,handle:a,photoLink:i,tweet:c,likes:0,timestamp:Date.now(),likedBy:[],imageURL:o}).then((function(){console.log("Successfully saved tweet info")})).catch((function(e){console.log("Error saving tweet info",e)}))}(t,b,s,l,i,0,o,u)},"aria-label":"share",className:"tweetIcon",style:{marginLeft:"30px",color:"white"},children:Object(c.jsx)(je.a,{})}),Object(c.jsx)(ie.a,{"aria-label":"favorite",className:"tweetIcon",style:{marginLeft:"30px",color:"white"},onClick:E}),Object(c.jsxs)(ie.a,{"aria-label":"favorite",className:"tweetIcon",style:O?{marginLeft:"30px",color:"red"}:{marginLeft:"30px",color:"white"},onClick:E,children:[Object(c.jsx)(de.a,{}),w.length]})]}),R&&Object(c.jsx)(se,{id:t,allComments:d})]})},he=n(73),me=n.n(he),xe=function(){var e=Object(a.useContext)(v),t=Object(a.useState)([]),n=Object(j.a)(t,2),s=n[0],i=n[1];Object(a.useEffect)((function(){o()}),[]);var o=function(){x.collection("allTweets").orderBy("timestamp","desc").onSnapshot((function(e){i(e.docs.map((function(e){return e.data()})))}),(function(e){console.log(e)}))};return Object(c.jsxs)("div",{className:"mainFeed",children:[Object(c.jsx)("div",{className:"topHome",children:Object(c.jsx)(C.a,{variant:"h6",style:{marginTop:"10px",marginLeft:"10px",fontWeight:"bold"},children:"Home"})}),Object(c.jsxs)("div",{className:"mTweetFeed",children:[e&&Object(c.jsx)(te,{}),Object(c.jsx)("div",{style:{overflow:"auto",height:"90vh"},children:s.map((function(e){return Object(c.jsx)(be,{id:e.id,tweet:e,displayName:e.displayName,handle:e.handle,likes:e.likes,photo:e.photoLink,tweetText:e.tweet,likedBy:e.likedBy,image:e.imageURL,allComments:e.comments},me()())}))})]})]})},Oe=Object(L.a)((function(e){return{large:{width:e.spacing(10),height:e.spacing(10)}}})),pe=function(){var e=Oe(),t=Object(a.useContext)(v),n=Object(r.g)(),s=t.displayName,i=(t.email,t.photoURL),o=t.handle;return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"profile-container",children:[Object(c.jsx)(C.a,{variant:"h5",style:{marginBottom:"10px"},children:"Logged in as:"}),Object(c.jsx)(I.a,{className:e.large,alt:s,src:i}),Object(c.jsx)(C.a,{variant:"h6",style:{marginTop:"10px"},children:s}),Object(c.jsxs)(C.a,{variant:"subtitle1",style:{marginTop:"5px"},children:["@",o]}),Object(c.jsx)("button",{onClick:function(){n.push("/"),b.signOut().then((function(){console.log("logged out")})).catch((function(e){console.log(e.message)}))},children:"sign out "})]})})},fe=Object(L.a)((function(e){return{appContainer:{height:"100vh"}}})),ge=function(){var e=Object(a.useContext)(v),t=Object(a.useState)(null),n=Object(j.a)(t,2),s=n[0],i=n[1],o=fe();return Object(a.useEffect)((function(){console.log(e),e||i("/")}),[e]),s?Object(c.jsx)(r.a,{to:s}):Object(c.jsxs)(k.a,{container:!0,justify:"center",className:o.appContainer,spacing:0,children:[Object(c.jsx)(k.a,{item:!0,sm:3,xs:3,height:"100vh",children:Object(c.jsx)(_,{})}),Object(c.jsx)(k.a,{item:!0,xs:6,height:"100vh",children:Object(c.jsx)(xe,{})}),Object(c.jsx)(k.a,{item:!0,container:!0,xs:3,height:"100vh",alignItems:"center",justify:"center",className:"rightGrid",children:e&&Object(c.jsx)(pe,{})})]})};Object(L.a)((function(e){return{appContainer:{height:"100vh"}}}));var ve=function(){return Object(c.jsx)(y,{children:Object(c.jsx)(l.a,{children:Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(r.d,{children:[Object(c.jsx)(r.b,{exact:!0,path:"/",children:Object(c.jsx)(N,{})}),Object(c.jsx)(r.b,{path:"/twitter",children:Object(c.jsx)(ge,{})})]})})})})};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(ve,{})}),document.getElementById("root"))},86:function(e,t,n){},87:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.a27bd8c4.chunk.js.map